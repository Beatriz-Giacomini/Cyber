<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="estilo.css">
</head>

<body>
  <div>
    <img src="Fios.png" alt="" width="50%"><img src="Fios.png" alt="" width="50%">
  </div>

  <!-- HOME -->
  <!-- Barra de Navegação -->
  <nav>
    <a href="index.html">HOME</a>
    <a href="fale_conosco.html">FALE CONOSCO</a>
    <a href="cadastro.html">CADASTRO</a>
    <a href="login.html">LOGIN</a>
  </nav>

  <div class="page-login">
    <div class="container-login">
      <img class="img-form" src="Cyber Guardiões S.A..png" alt="" width="160" height="auto">

      <div class="form-control">
        <input type="email" id="email_login" required="">
        <label>
          <span style="transition-delay:0ms">E</span><span style="transition-delay:50ms">-</span><span
            style="transition-delay:100ms">m</span><span style="transition-delay:150ms">a</span><span
            style="transition-delay:200ms">i</span><span style="transition-delay:250ms">l</span>
        </label>
      </div>

      <div class="form-control">
        <input type="password" id="senha_login" required="">
        <label>
          <span style="transition-delay:0ms">S</span><span style="transition-delay:50ms">e</span><span
            style="transition-delay:100ms">n</span><span style="transition-delay:150ms">h</span><span
            style="transition-delay:200ms">a</span>
        </label>
      </div>

      <button type="button" class="form-submit-btn btn_login" id="btn_login">Login</button>

      <p class="resultado" id="resultado_login">O resultado irá aparecer aqui</p>
    </div>
  </div>
</body>
<script>
  document.getElementById("btn_login").addEventListener("click", async () => {
    const email = document.getElementById("email_login").value
    const senha = document.getElementById("senha_login").value

    const resposta = await fetch(`http://localhost:3000/login`, {
      method: "POST",
      headers: {
        "Accept": "application/json",
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        "email": email,
        "senha": senha
      })
    })

    if (resposta.ok == true) {
      const dados = await resposta.json()
      document.getElementById("resultado_login").innerText = dados.resposta
    } else {

    }
  })
</script>

</html>